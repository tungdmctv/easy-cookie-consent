class CookieAccept{constructor({domain:t=".google.com",dayExpire:e=60,text:o={header:"เว็บไซต์นี้ใช้คุกกี้",body:"เราใช้คุกกี้เพื่อวิเคราะห์การเข้าใช้งาน และทำความเข้าใจว่าผู้ใช้งานมาจากที่ใด สามารถเลือกตั้งค่าความยินยอมการใช้คุกกี้ได้ โดย “ตั้งค่าคุกกี้ใน Browser ของคุณ”",privacyPolicy:"นโยบายความเป็นส่วนตัว",learnMore:"เรียนรู้เพิ่มเติม",accept:"ยอมรับ"},bgColor:i="#F3F4F6",textColor:n="#1F2937",buttonColor:r="#6366F1",buttonTextColor:a="#FFFFFF",buttonBorderColor:l="#FFFFFF",linkColor:c="#2563EB",url:d={privacyPolicy:"https://video.dmc.tv/privacy",cookiePolicy:"https://video.dmc.tv/cookie",target:"_blank"},align:s="center"}){this.domain=t.replace(/^https?:\/\//,""),this.dayExpire=e,this.text=o,this.align=s,this.bgColor=i,this.textColor=n,this.buttonColor=r,this.buttonTextColor=a,this.buttonBorderColor=l,this.linkColor=c,this.cookiePolicy=d.cookiePolicy,this.privacyPolicy=d.privacyPolicy,this.target=d.target,this.cookieName=t.replaceAll(".","_")+"_CookieAccept"}init(){(JSON.parse(this.getCookie())||{}).acceptCookie||(this.addCSS(),setTimeout((()=>{this.displayModal()}),100))}addCSS(){let t="#ModalAcceptCookie{\n            width: 33.333333%;\n            z-index:auto;\n        }\n        @media (max-width: 800px) {\n          #ModalAcceptCookie {\n            width: 100%;\n          }\n        }",e=document.getElementsByTagName("head")[0],o=document.getElementsByTagName("style")[0];"left"==this.align&&(t+="#ModalAcceptCookie{\n              left: 0;\n          }"),"right"==this.align&&(t+="#ModalAcceptCookie{\n              right: 0;\n          }"),"center"==this.align&&(t+="#ModalAcceptCookie{\n        left: 33.33333%;\n      }\n      @media (max-width: 800px) {\n        #ModalAcceptCookie {\n          left: 0;\n        }\n      }\n      \n      "),o||(o=document.createElement("style")),setTimeout((()=>{o.styleSheet?o.styleSheet.cssText=t:o.append(document.createTextNode(t)),e.append(o)}),50)}displayModal(){const t=document.getElementsByTagName("body")[0],e=document.createElement("div");e.innerHTML=`<div id="ModalAcceptCookie" class="ModalAcceptCookie" \n    style="margin: 0;\n    padding:0rem; padding-top: 0.25rem; \n    color: ${this.textColor};\n    border-radius: 0.75rem; background-color: ${this.bgColor};  position: fixed; \n    bottom: 0;\n    ">\n    <div id="header"  style="text-align: center; font-weight: 700;padding:0.25rem;     ">\n    ${this.text.header}\n    </div>\n    <div id="body" style="margin: 0; padding: 0.75rem; text-align: justify;">\n    ${this.text.body}\n    <a href="${this.privacyPolicy}" target="${this.target}" style="color: ${this.linkColor};">${this.text.privacyPolicy}</a>\n    </div>\n    <div  style="text-align: center; ">\n    <a href="${this.cookiePolicy}" target="${this.target}" style="color: ${this.linkColor};" >${this.text.learnMore}</a>\n    <button\n    id="acceptCookieButton"\n    type="button"\n    style="padding-top: 0.5rem;cursor: pointer; \n    padding-bottom: 0.5rem; \n    padding-left: 1rem;\n    padding-right: 1rem; \n    margin: 0.5rem; \n    background-color:  ${this.buttonColor}; \n    transition-property: background-color, border-color, color, fill, stroke, opacity, box-shadow, transform; \n    transition-duration: 500ms; \n    color:  ${this.buttonTextColor}; \n    border-radius: 0.375rem; \n    border-width: 1px; \n    border-color:  ${this.buttonBorderColor}; \n    user-select: none; \n   ">\n   ${this.text.accept}\n     </button>\n    </div>\n    </div>`,t.append(e);document.getElementById("acceptCookieButton").addEventListener("click",(()=>{this.acceptCookie(),this.hideModal()}))}acceptCookie(){console.log("COOKIE ACCEPTED");this.setCookie(JSON.stringify({acceptCookie:!0}))}hideModal(){document.getElementById("ModalAcceptCookie").remove()}getCookie(){for(var t=this.cookieName+"=",e=document.cookie.split(";"),o=0;o<e.length;o++){for(var i=e[o];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null}setCookie(t){let e=this.cookieName;var o,i=new Date;i.setTime(i.getTime()+24*this.dayExpire*60*60*1e3),o="; expires="+i.toUTCString(),document.cookie=e+"="+(t||"")+o+`; path=/;domain=${this.domain};`}}